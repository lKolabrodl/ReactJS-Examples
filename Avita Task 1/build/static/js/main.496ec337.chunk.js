(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{16:function(e,t,n){e.exports=n(43)},21:function(e,t,n){},23:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),u=(n(21),n(2)),l=n.n(u),s=n(4),i=n(3),m=(n(23),function(){return r.a.createElement("div",{className:"lds-css ng-scope"},r.a.createElement("div",{className:"lds-eclipse"},r.a.createElement("div",null)))}),p=function(e){var t=e.photo,n=e.handlePhoto,c=Object(a.useState)(!1),o=Object(i.a)(c,2),u=o[0],l=o[1];return r.a.createElement("li",{className:"Photoitem",onClick:function(){return n(t.id)}},u?null:r.a.createElement(m,null),r.a.createElement("img",{onLoad:function(){l(!u)},src:t.url,alt:t.id}))},f=function(e){var t=e.photos,n=e.handlePhoto;return r.a.createElement("div",{className:"Photo__list"},r.a.createElement("ul",null,t.map((function(e){return r.a.createElement(p,{handlePhoto:n,key:e.id,photo:e})}))))},d=n(5),h=n.n(d),v={getPhotos:function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://boiling-refuge-66454.herokuapp.com/images");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getPhotosComments:function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://boiling-refuge-66454.herokuapp.com/images/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sendPhotosComment:function(){var e=Object(s.a)(l.a.mark((function e(t,n,a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("https://boiling-refuge-66454.herokuapp.com/images/".concat(t,"/comments"),{name:n,comment:a});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()};n(41),n(42);var E=function(e){var t=e.id,n=Object(a.useState)(""),c=Object(i.a)(n,2),o=c[0],u=c[1],l=Object(a.useState)(""),s=Object(i.a)(l,2),m=s[0],p=s[1];console.log(t);return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""!==o&&""!==m&&(alert("\u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u043e\u043f\u0440\u0430\u0432\u043a\u0443 id \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438: ".concat(t,", \u0438\u043c\u044f:").concat(o,", \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439: ").concat(m,". \u0424\u043e\u0440\u043c\u0430 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438 \u043d\u0435 \u0438\u043c\u0435\u0435\u0442")),v.sendPhotosComment(o,m,t))}},r.a.createElement("input",{value:o,onChange:function(e){u(e.target.value)},placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f"}),r.a.createElement("input",{value:m,onChange:function(e){p(e.target.value)},placeholder:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}),r.a.createElement("button",{type:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))},g=function(e){var t=e.onClose,n=e.modalId,c=Object(a.useState)(null),o=Object(i.a)(c,2),u=o[0],p=o[1],f=Object(a.useState)(!1),d=Object(i.a)(f,2),h=d[0],g=d[1];Object(a.useEffect)((function(){Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getPhotosComments(n);case 2:t=e.sent,p(t);case 4:case"end":return e.stop()}}),e)})))()}),[n]);return console.log(u),r.a.createElement("div",{className:"modal-window"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-image"},h?null:r.a.createElement(m,null),u&&r.a.createElement("img",{onLoad:function(){g(!h)},src:u.url,alt:""})),u&&r.a.createElement(E,{id:u.id}),r.a.createElement("div",{className:"modal-comments"},u&&0!==u.comments.length?u.comments.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,e.text)," ",r.a.createElement("small",null,function(e){var t=new Date(e),n=function(e){return("0"+e).slice(-2)};return[n(t.getDate()),n(t.getMonth()+1),t.getFullYear()].join(".")}(e.date)))})):"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432 \u043d\u0435\u0442"),r.a.createElement("div",{onClick:function(){t()},className:"close-button"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"},r.a.createElement("path",{d:"M25 42c-9.4 0-17-7.6-17-17S15.6 8 25 8s17 7.6 17 17-7.6 17-17 17zm0-32c-8.3 0-15 6.7-15 15s6.7 15 15 15 15-6.7 15-15-6.7-15-15-15z"}),r.a.createElement("path",{d:"M32.283 16.302l1.414 1.415-15.98 15.98-1.414-1.414z"}),r.a.createElement("path",{d:"M17.717 16.302l15.98 15.98-1.414 1.415-15.98-15.98z"})))))},b=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(null),u=Object(i.a)(o,2),m=u[0],p=u[1];return Object(a.useEffect)((function(){n.length>0||Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getPhotos();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))()}),[n]),r.a.createElement("div",{className:"photo__search"},r.a.createElement("h1",null,"\u0424\u043e\u0442\u043e\u0430\u043b\u044c\u0431\u043e\u043c"),r.a.createElement(f,{handlePhoto:function(e){p(e)},photos:n}),m&&r.a.createElement(g,{onClose:function(){p(null)},modalId:m}))};o.a.render(r.a.createElement(b,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.496ec337.chunk.js.map